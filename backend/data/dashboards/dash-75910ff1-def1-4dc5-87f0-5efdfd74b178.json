{
  "id": "dash-75910ff1-def1-4dc5-87f0-5efdfd74b178",
  "name": "iot-1000-camera (imported)",
  "data": {
    "domains": [],
    "edges": [
      {
        "arrowType": "standard",
        "from": "node-cameras-1000",
        "fromAnchor": "bottom",
        "id": "edge-cam-to-lb-ingest",
        "label": "",
        "to": "node-lb-ingest",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-lb-ingest",
        "fromAnchor": "bottom",
        "id": "edge-lb-ingest-to-mediamtx",
        "label": "RTSP / WebRTC",
        "to": "node-mediamtx-ingest",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-mediamtx-ingest",
        "fromAnchor": "right",
        "id": "edge-mediamtx-to-kafka",
        "label": "event / metadata",
        "to": "node-kafka-stream",
        "toAnchor": "left"
      },
      {
        "arrowType": "standard",
        "from": "node-kafka-stream",
        "fromAnchor": "top",
        "id": "edge-kafka-to-timeseries",
        "label": "metrics / telemetry",
        "to": "node-timeseries-db",
        "toAnchor": "right"
      },
      {
        "arrowType": "standard",
        "from": "node-lb-public",
        "fromAnchor": "bottom",
        "id": "edge-public-lb-to-kong",
        "label": "HTTPS",
        "to": "node-kong-gateway",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-kong-gateway",
        "fromAnchor": "right",
        "id": "edge-1764688704446",
        "label": "",
        "to": "node-1764688677775",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-lb-public",
        "fromAnchor": "bottom",
        "id": "edge-1764689238787",
        "label": "",
        "to": "node-mqtt-broker",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "bottom",
        "id": "edge-1764689302790",
        "label": "",
        "to": "node-1764689291988",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764689291988",
        "fromAnchor": "right",
        "id": "edge-1764689330475",
        "label": "",
        "to": "node-kafka-stream",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-kafka-stream",
        "fromAnchor": "bottom",
        "id": "edge-1764689512162",
        "label": "",
        "to": "node-1764688832546",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688832546",
        "fromAnchor": "right",
        "id": "edge-1764689517943",
        "label": "",
        "to": "node-1764689495709",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-mqtt-broker",
        "fromAnchor": "bottom",
        "id": "edge-1764689634142",
        "label": "",
        "to": "node-1764688677775",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "right",
        "id": "edge-1764689670893",
        "label": "",
        "to": "node-1764688373446",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688373446",
        "fromAnchor": "right",
        "id": "edge-1764689726201",
        "label": "",
        "to": "node-kafka-stream",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-mediamtx-ingest",
        "fromAnchor": "right",
        "id": "edge-1764690394675",
        "label": "",
        "to": "node-1764690173886",
        "toAnchor": "left"
      },
      {
        "arrowType": "standard",
        "from": "node-1764690173886",
        "fromAnchor": "bottom",
        "id": "edge-1764690400489",
        "label": "",
        "to": "node-1764690375126",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764690375126",
        "fromAnchor": "bottom",
        "id": "edge-1764690407267",
        "label": "",
        "to": "node-object-storage",
        "toAnchor": "right"
      },
      {
        "arrowType": "standard",
        "from": "node-kafka-stream",
        "fromAnchor": "bottom",
        "id": "edge-1764690683832",
        "label": "",
        "to": "node-telemetry-service",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-telemetry-service",
        "fromAnchor": "right",
        "id": "edge-1764690688116",
        "label": "",
        "to": "node-1764690592367",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-kafka-stream",
        "fromAnchor": "bottom",
        "id": "edge-1764690720206",
        "label": "",
        "to": "node-user-portal",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-user-portal",
        "fromAnchor": "bottom",
        "id": "edge-1764690734068",
        "label": "",
        "to": "node-auth-service",
        "toAnchor": "right"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "bottom",
        "id": "edge-1764690753926",
        "label": "",
        "to": "node-auth-service",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "bottom",
        "id": "edge-1764690764508",
        "label": "",
        "to": "node-1764688832546",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "bottom",
        "id": "edge-1764690771086",
        "label": "",
        "to": "node-telemetry-service",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764688677775",
        "fromAnchor": "bottom",
        "id": "edge-1764690913012",
        "label": "",
        "to": "node-1764690895378",
        "toAnchor": "top"
      },
      {
        "arrowType": "standard",
        "from": "node-1764690895378",
        "fromAnchor": "right",
        "id": "edge-1764690917057",
        "label": "",
        "to": "group-group-db",
        "toAnchor": "top"
      }
    ],
    "groups": [
      {
        "color": "#3b82f6",
        "height": 600,
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/kubernetes/kubernetes-original.svg",
        "iconType": "url",
        "id": "group-k8s-core",
        "name": "Core K8s (Control, API, MQTT, Telemetry)",
        "nodeIds": [
          "node-iot-api",
          "node-auth-service",
          "node-mqtt-broker",
          "node-telemetry-service",
          "node-redis-cache",
          "node-user-portal"
        ],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "4 vCPU",
            "disk": "200 GB",
            "gpu": "",
            "id": "role-k8s-core-master",
            "name": "Control Plane",
            "ram": "16 GB",
            "vram": ""
          },
          {
            "count": 4,
            "cpu": "16 vCPU",
            "disk": "500 GB",
            "gpu": "",
            "id": "role-k8s-core-worker",
            "name": "Worker",
            "ram": "32 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "80 vCPU (cluster)",
          "disk": "1 TB system",
          "ram": "256 GB"
        },
        "type": "cluster",
        "width": 780,
        "x": -440,
        "y": 440
      },
      {
        "color": "#3b82f6",
        "height": 360,
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/kubernetes/kubernetes-original.svg",
        "iconType": "url",
        "id": "group-gpu",
        "name": "GPU K8s (Media / AI for 1000 cams)",
        "nodeIds": [
          "node-mediamtx-ingest",
          "node-ai-analytics"
        ],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "4 vCPU",
            "disk": "200 GB",
            "gpu": "",
            "id": "role-gpu-master",
            "name": "Control Plane",
            "ram": "16 GB",
            "vram": ""
          },
          {
            "count": 1,
            "cpu": "32 vCPU",
            "disk": "2000 GB",
            "gpu": "A30",
            "id": "role-gpu-worker-a30",
            "name": "GPU Worker A30",
            "ram": "128 GB",
            "vram": "24 GB"
          }
        ],
        "specs": {
          "cpu": "48 vCPU (cluster)",
          "disk": "2 TB NVMe",
          "ram": "192 GB"
        },
        "type": "cluster",
        "width": 660,
        "x": 280,
        "y": 60
      },
      {
        "color": "#3b82f6",
        "height": 280,
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/apachekafka/apachekafka-original.svg",
        "iconType": "url",
        "id": "group-kafka",
        "name": "Kafka Cluster",
        "nodeIds": [
          "node-kafka-stream"
        ],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "8 vCPU",
            "disk": "2000 GB",
            "gpu": "",
            "id": "role-kafka-broker",
            "name": "Broker",
            "ram": "16 GB",
            "vram": ""
          },
          {
            "count": 3,
            "cpu": "4 vCPU",
            "disk": "200 GB",
            "gpu": "",
            "id": "role-kafka-controller",
            "name": "Controller / KRaft",
            "ram": "8 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "48 vCPU (cluster)",
          "disk": "8 TB NVMe",
          "ram": "128 GB"
        },
        "type": "cluster",
        "width": 360,
        "x": 540,
        "y": 520
      },
      {
        "color": "#3b82f6",
        "height": 240,
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/postgresql/postgresql-original.svg",
        "iconType": "url",
        "id": "group-db",
        "name": "DB Cluster (PostgreSQL, Timeseries)",
        "nodeIds": [
          "node-device-registry",
          "node-timeseries-db"
        ],
        "nodeRoles": [
          {
            "count": 1,
            "cpu": "16 vCPU",
            "disk": "4000 GB",
            "gpu": "",
            "id": "role-db-primary",
            "name": "Primary",
            "ram": "64 GB",
            "vram": ""
          },
          {
            "count": 2,
            "cpu": "8 vCPU",
            "disk": "2000 GB",
            "gpu": "",
            "id": "role-db-replica",
            "name": "Replica",
            "ram": "32 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "32 vCPU (cluster)",
          "disk": "6 TB RAID10",
          "ram": "128 GB"
        },
        "type": "cluster",
        "width": 400,
        "x": 1040,
        "y": 860
      },
      {
        "color": "#3b82f6",
        "height": 220,
        "icon": "https://cdn.cookielaw.org/logos/42b8010a-a819-451e-8bd4-35f56794de29/2c4de954-6bec-4e93-8086-64cb113f151a/69e1ef61-0885-4db9-ac57-70d056bc66b3/konglogo.png",
        "iconType": "url",
        "id": "group-kong",
        "name": "KONG Gateway Cluster",
        "nodeIds": [
          "node-kong-gateway"
        ],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "8 vCPU",
            "disk": "200 GB",
            "gpu": "",
            "id": "role-kong-node",
            "name": "Kong Node",
            "ram": "16 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "24 vCPU (cluster)",
          "disk": "500 GB",
          "ram": "64 GB"
        },
        "type": "cluster",
        "width": 380,
        "x": -460,
        "y": 0
      },
      {
        "color": "#3b82f6",
        "height": 200,
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/elasticsearch/elasticsearch-original.svg",
        "iconType": "url",
        "id": "group-monitoring",
        "name": "Monitoring / Logging",
        "nodeIds": [
          "node-monitoring"
        ],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "8 vCPU",
            "disk": "1000 GB",
            "gpu": "",
            "id": "role-monitoring-node",
            "name": "Monitoring Node",
            "ram": "16 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "24 vCPU (cluster)",
          "disk": "4 TB",
          "ram": "64 GB"
        },
        "type": "cluster",
        "width": 260,
        "x": 1120,
        "y": 160
      },
      {
        "color": "#3b82f6",
        "height": 200,
        "icon": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpanF8TlofK14bTZxm3-6cHnvksH2amHNvYA&s",
        "iconType": "url",
        "id": "group-1764688302891-e4cp2ua18",
        "name": "MQTT",
        "nodeIds": [],
        "nodeRoles": [
          {
            "count": 5,
            "cpu": "16 vCPU",
            "disk": "500 GB",
            "gpu": "",
            "id": "role-1764688288470-foa7hqpc9",
            "name": "",
            "ram": "32 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "",
          "disk": "",
          "ram": ""
        },
        "type": "cluster",
        "width": 300,
        "x": -60,
        "y": 120
      },
      {
        "color": "#10b981",
        "height": 200,
        "icon": "https://cdn.iconscout.com/icon/free/png-256/free-mongodb-icon-svg-download-png-1175138.png",
        "iconType": "url",
        "id": "group-1764689456801-fjenblabn",
        "name": "MongoDB",
        "nodeIds": [],
        "nodeRoles": [
          {
            "count": 3,
            "cpu": "32 vCPU",
            "disk": "1000 GB",
            "gpu": "",
            "id": "role-1764689442323-eyc9iqha8",
            "name": "",
            "ram": "64 GB",
            "vram": ""
          }
        ],
        "specs": {
          "cpu": "",
          "disk": "",
          "ram": ""
        },
        "type": "cluster",
        "width": 300,
        "x": 580,
        "y": 840
      }
    ],
    "nodeTypes": [
      {
        "color": "#10b981",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/nginx/nginx-original.svg",
        "iconType": "url",
        "label": "Load Balancer",
        "value": "lb"
      },
      {
        "color": "#f5f2fd",
        "icon": "https://cdn.cookielaw.org/logos/42b8010a-a819-451e-8bd4-35f56794de29/2c4de954-6bec-4e93-8086-64cb113f151a/69e1ef61-0885-4db9-ac57-70d056bc66b3/konglogo.png",
        "iconType": "url",
        "label": "API Gateway",
        "value": "gateway"
      },
      {
        "color": "#3b82f6",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/nodejs/nodejs-original.svg",
        "iconType": "url",
        "label": "Service",
        "value": "service"
      },
      {
        "color": "#336791",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/postgresql/postgresql-original.svg",
        "iconType": "url",
        "label": "PostgreSQL",
        "value": "db"
      },
      {
        "color": "#dc382d",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/redis/redis-original.svg",
        "iconType": "url",
        "label": "Redis",
        "value": "cache"
      },
      {
        "color": "#ff9900",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/amazonwebservices/amazonwebservices-original-wordmark.svg",
        "iconType": "url",
        "label": "AWS S3",
        "value": "storage"
      },
      {
        "color": "#231f20",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/apachekafka/apachekafka-original.svg",
        "iconType": "url",
        "label": "Kafka",
        "value": "queue"
      },
      {
        "color": "#e9ecf1",
        "icon": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpanF8TlofK14bTZxm3-6cHnvksH2amHNvYA&s",
        "iconType": "url",
        "label": "MQTT",
        "value": "MQTT"
      },
      {
        "color": "#f5f5f5",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/opentelemetry/opentelemetry-original.svg",
        "iconType": "url",
        "label": "Telemetry",
        "value": "Telemetry"
      },
      {
        "color": "#e1e5ea",
        "icon": "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/mongodb/mongodb-original.svg",
        "iconType": "url",
        "label": "MongoDB",
        "value": "MongoDB"
      },
      {
        "color": "#ffffff",
        "icon": "https://img.icons8.com/flat_round/1200/influxdb.jpg",
        "iconType": "url",
        "label": "InfluxDB",
        "value": "influx"
      }
    ],
    "nodes": [
      {
        "dragOffsetX": 102.57936507936483,
        "dragOffsetY": 67.88888888888889,
        "id": "node-cameras-1000",
        "label": "Camera FHD x1000",
        "type": "service",
        "x": 300,
        "y": -140
      },
      {
        "dragOffsetX": 69.91269841269803,
        "dragOffsetY": 43.88888888888869,
        "id": "node-lb-ingest",
        "label": "LB Media",
        "type": "lb",
        "x": 300,
        "y": -40
      },
      {
        "dragOffsetX": 85.91269841269806,
        "dragOffsetY": 59.8888888888887,
        "id": "node-lb-public",
        "label": "HTTP/WS/MQTT",
        "type": "lb",
        "x": 60,
        "y": -120
      },
      {
        "dragOffsetX": 107.72222222222264,
        "dragOffsetY": 58.29365079365073,
        "groupId": "group-kong",
        "id": "node-kong-gateway",
        "label": "Kong API Gateway",
        "type": "gateway",
        "x": -360,
        "y": 100
      },
      {
        "dragOffsetX": 107.91269841269816,
        "dragOffsetY": 39.88888888888846,
        "groupId": "group-k8s-core",
        "id": "node-auth-service",
        "label": "Command",
        "type": "service",
        "x": -400,
        "y": 660
      },
      {
        "dragOffsetX": 75.91269841269815,
        "dragOffsetY": 34.55555555555543,
        "groupId": "group-db",
        "id": "node-device-registry",
        "label": "Device Registry",
        "type": "db",
        "x": 1080,
        "y": 960
      },
      {
        "dragOffsetX": 87.91269841269806,
        "dragOffsetY": 47.88888888888863,
        "groupId": "group-1764688302891-e4cp2ua18",
        "id": "node-mqtt-broker",
        "label": "MQTT Broker",
        "type": "MQTT",
        "x": 40,
        "y": 200
      },
      {
        "dragOffsetX": 79.91269841269803,
        "dragOffsetY": 27.88888888888846,
        "id": "node-telemetry-service",
        "label": "Telemetry Service",
        "type": "Telemetry",
        "x": -200,
        "y": 920
      },
      {
        "dragOffsetX": 79.9126984126981,
        "dragOffsetY": 39.88888888888846,
        "groupId": "group-k8s-core",
        "id": "node-user-portal",
        "label": "RuleEngine",
        "type": "service",
        "x": -400,
        "y": 780
      },
      {
        "dragOffsetX": 85.91269841269798,
        "dragOffsetY": 35.88888888888863,
        "groupId": "group-gpu",
        "id": "node-mediamtx-ingest",
        "label": "MediaMTX Ingest",
        "type": "service",
        "x": 320,
        "y": 160
      },
      {
        "dragOffsetX": 69.91269841269798,
        "dragOffsetY": 35.88888888888857,
        "groupId": "group-kafka",
        "id": "node-kafka-stream",
        "label": "Kafka Stream",
        "type": "queue",
        "x": 640,
        "y": 680
      },
      {
        "dragOffsetX": 47.912698412697864,
        "dragOffsetY": 43.88888888888857,
        "id": "node-object-storage",
        "label": "Object Storage (Recording)",
        "type": "storage",
        "x": 980,
        "y": 480
      },
      {
        "dragOffsetX": 85.91269841269809,
        "dragOffsetY": 32.8888888888888,
        "groupId": "group-db",
        "id": "node-timeseries-db",
        "label": "Timeseries DB",
        "type": "db",
        "x": 1260,
        "y": 980
      },
      {
        "dragOffsetX": 54.24603174603135,
        "dragOffsetY": 44.55555555555543,
        "groupId": "group-monitoring",
        "id": "node-monitoring",
        "label": "Monitoring / Logging",
        "type": "service",
        "x": 1180,
        "y": 260
      },
      {
        "dragOffsetX": 73.91269841269803,
        "dragOffsetY": 35.88888888888857,
        "groupId": "group-k8s-core",
        "id": "node-1764688373446",
        "label": "OEM Adapter Cluster",
        "type": "service",
        "x": 140,
        "y": 660
      },
      {
        "dragOffsetX": 80.57936507936462,
        "dragOffsetY": 48.555555555555316,
        "groupId": "group-k8s-core",
        "id": "node-1764688677775",
        "label": "Ingress",
        "type": "lb",
        "x": -200,
        "y": 540
      },
      {
        "dragOffsetX": 83.91269841269803,
        "dragOffsetY": 51.88888888888846,
        "id": "node-1764688832546",
        "label": "Shadow",
        "type": "service",
        "x": 140,
        "y": 780
      },
      {
        "dragOffsetX": 81.91269841269812,
        "dragOffsetY": 37.88888888888857,
        "id": "node-1764689291988",
        "label": "IoT Transport Hub",
        "type": "service",
        "x": -200,
        "y": 660
      },
      {
        "dragOffsetX": 89.91269841269798,
        "dragOffsetY": 57.88888888888846,
        "groupId": "group-1764689456801-fjenblabn",
        "id": "node-1764689495709",
        "label": "MongoDB",
        "type": "MongoDB",
        "x": 640,
        "y": 940
      },
      {
        "dragOffsetX": 81.91269841269798,
        "dragOffsetY": 59.88888888888863,
        "id": "node-1764690173886",
        "label": "FFmpeg",
        "type": "service",
        "x": 660,
        "y": 160
      },
      {
        "dragOffsetX": 83.91269841269798,
        "dragOffsetY": 43.88888888888863,
        "id": "node-1764690375126",
        "label": "HLS",
        "type": "service",
        "x": 660,
        "y": 300
      },
      {
        "dragOffsetX": 61.91269841269806,
        "dragOffsetY": 35.88888888888846,
        "id": "node-1764690592367",
        "label": "InfluxDB",
        "type": "influx",
        "x": 140,
        "y": 920
      },
      {
        "dragOffsetX": 90.5793650793646,
        "dragOffsetY": 40.222222222221944,
        "groupId": "group-k8s-core",
        "id": "node-1764690895378",
        "label": "Registry",
        "type": "service",
        "x": -80,
        "y": 780
      }
    ],
    "vms": []
  },
  "createdAt": "2025-12-02T15:04:27.767Z",
  "updatedAt": "2025-12-02T15:55:36.506Z"
}